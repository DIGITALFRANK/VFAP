CREATE TABLE IF NOT EXISTS vfap_retail.dim_period
(
   date              date,
   day_of_week       integer,
   fiscalweek        integer,
   fiscalmonth       varchar(5),
   fiscalqtr         varchar(5),
   fiscalyear        varchar(5),
   prev_date         date,
   prev_day_of_week  varchar(5),
   prev_fiscalweek   varchar(5),
   prev_fiscalmonth  varchar(5),
   prev_fiscalqtr    varchar(5),
   prev_fiscalyear   varchar(5),
   month_abbr        varchar(5),
   week_abbr         varchar(10),
   day_type          varchar(10),
   day_num           integer
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_adobeanalytics
(
   system                 varchar(50),
   brand                  varchar(50),
   region                 varchar(50),
   device_category        varchar(50),
   date                   date,
   total_units            integer,
   total_sales            numeric(12,4),
   total_orders           integer,
   total_page_views       integer,
   total_visitors         integer,
   total_product_views    integer,
   total_cart_addition    integer,
   total_sales_eur        numeric(12,4),
   total_sales_usd        numeric(12,4),
   total_unique_visitors  integer,
   total_visits           integer,
   etl_insert_time        timestamp,
   etl_update_time        timestamp,
   job_id                 varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_attribution
(
   day                            date,
   type_of_attribution            varchar(50),
   channels                       varchar(100),
   fiscal_week                    integer,
   fiscal_month                   integer,
   fiscal_qtr                     varchar(10),
   fiscal_year                    integer,
   brand                          varchar(50),
   country                        varchar(50),
   orders                         integer,
   sales_local                    numeric(12,4),
   sales_usd                      numeric(12,4),
   visits                         integer,
   weekly_visits                  integer,
   bi_weekly_visits               integer,
   bounces                        integer,
   entries                        integer,
   units                          integer,
   daily_unique_visitor           integer,
   weekly_unique_visitor          integer,
   bi_weekly_unique_visitor       integer,
   prev_orders                    integer,
   prev_sales_local               numeric(12,4),
   prev_sales_usd                 numeric(12,4),
   prev_visits                    integer,
   prev_weekly_visits             integer,
   prev_bi_weekly_visits          integer,
   prev_bounces                   integer,
   prev_entries                   integer,
   prev_units                     integer,
   prev_daily_unique_visitor      integer,
   prev_weekly_unique_visitor     integer,
   prev_bi_weekly_unique_visitor  integer,
   prev_date                      date,
   etl_insert_time                timestamp,
   etl_update_time                timestamp,
   job_id                         varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_catchpoint
(
   date                      date,
   avg_response_ms           numeric(12,4),
   avg_total_download_bytes  numeric(12,4),
   avg_dom_load_ms           numeric(12,4),
   avg_document_complete_ms  numeric(12,4),
   avg_webpage_response_ms   numeric(12,4),
   avg_render_start_ms       numeric(12,4),
   avg_time_title_ms         numeric(12,4),
   avg_no_connections        numeric(12,4),
   avg_no_of_host            numeric(12,4),
   availability              numeric(12,4),
   no_runs                   numeric(12,4),
   brand_id                  integer,
   device_id                 integer,
   prev_date                 date,
   source_type               varchar(30),
   etl_insert_time           timestamp,
   etl_update_time           timestamp,
   job_id                    varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_coremetrics
(
   "system"                 varchar(50),
   brand                  varchar(50),
   region                 varchar(50),
   device_category        varchar(50),
   date                   date,
   total_units            integer,
   total_sales            numeric(12,4),
   total_orders           integer,
   total_page_views       integer,
   total_visitors         integer,
   total_product_views    integer,
   total_cart_addition    integer,
   total_sales_eur        numeric(12,4),
   total_sales_usd        numeric(12,4),
   total_unique_visitors  integer,
   total_visits           integer,
   etl_insert_time        timestamp,
   etl_update_time        timestamp,
   job_id                 varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_ecomm_merge
(
   "system"                     varchar(20),
   brand_adj                  varchar(20),
   brand                      varchar(20),
   brand_region               varchar(20),
   device_category            varchar(20),
   day                        date,
   fiscal_qtr                 varchar(20),
   fiscal_year                integer,
   fiscal_month_abbr          varchar(20),
   fiscal_month               integer,
   fiscal_year_qtr            integer,
   fiscal_year_month          integer,
   fiscal_week                varchar(20),
   fiscal_week_abbr           varchar(20),
   day_num                    integer,
   day_type                   varchar(20),
   total_units                integer,
   total_sales                numeric(12,4),
   total_sales_usd            numeric(12,4),
   total_sales_eur            numeric(12,4),
   total_orders               integer,
   total_page_views           integer,
   total_visitors             integer,
   total_product_views        integer,
   total_cart_additions       integer,
   prev_yr_date               date,
   prev_fiscal_year           integer,
   prev_fiscal_qtr            varchar(20),
   prev_fiscal_month          integer,
   prev_fiscal_week           varchar(20),
   prev_fiscal_week_abbr      varchar(20),
   prev_total_units           integer,
   prev_total_sales           numeric(12,4),
   prev_total_sales_usd       numeric(12,4),
   prev_total_sales_eur       numeric(12,4),
   prev_total_orders          integer,
   prev_total_page_views      integer,
   prev_total_visitors        integer,
   prev_total_product_views   integer,
   prev_total_cart_additions  integer,
   total_unique_visitor       integer,
   total_visits               integer,
   prev_total_unique_visitor  integer,
   prev_total_visits          integer,
   etl_insert_time            timestamp,
   etl_update_time            timestamp,
   job_id                     varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_foresee
(
   date                                       date   NOT NULL,
   look_and_feel                              integer          NOT NULL,
   navigation                                 integer          NOT NULL,
   price                                      integer,
   product_browsing                           integer          NOT NULL,
   product_descriptions                       integer          NOT NULL,
   product_description                        integer,
   product_images                             integer          NOT NULL,
   product_image                              integer,
   site_performance                           integer          NOT NULL,
   site_performance                           integer,
   product_descriptions_understandable        integer          NOT NULL,
   product_description_understandable         integer,
   product_browsing_narrow                    integer          NOT NULL,
   product_browsing_narrow                    integer,
   product_browsing_sort                      integer          NOT NULL,
   product_browsing_sort                      integer,
   product_descriptions_answers               integer          NOT NULL,
   product_description_answers                integer,
   product_descriptions_thoroughness          integer          NOT NULL,
   product_description_throughness            integer,
   product_browsing_features                  integer          NOT NULL,
   product_browsing_feature                   integer,
   satisfaction_expectations                  varchar(65535)   NOT NULL,
   satisfaction_expectation                   integer,
   satisfaction_ideal                         varchar(65535)   NOT NULL,
   satisfaction_ideal                         integer,
   satisfaction_overall                       varchar(65535)   NOT NULL,
   satisfaction_overall                       integer,
   site_performance_consistency               integer          NOT NULL,
   site_performance_consistency               integer,
   site_performance_errors                    integer          NOT NULL,
   site_performance_error                     integer,
   brand_commitment                           integer          NOT NULL,
   brand_commitment                           integer,
   purchase_products                          integer          NOT NULL,
   purchase_product                           integer,
   purchase_from_store                        integer          NOT NULL,
   purchase_from_store                        integer,
   purchase_from_third_party                  integer          NOT NULL,
   purchase_from_third_party                  integer,
   merchandise                                integer          NOT NULL,
   merchandise                                integer,
   brand_preference                           integer          NOT NULL,
   brand_preference                           integer,
   look_and_feel_appeal                       integer,
   look_and_feel_appeal                       integer,
   look_and_feel_balance                      integer          NOT NULL,
   look_and_feel_balance                      integer,
   product_images_realistic                   integer          NOT NULL,
   product_image_realistic                    integer,
   merchandise_appeal                         integer          NOT NULL,
   merchandise_appeal                         integer,
   merchandise_availability                   integer          NOT NULL,
   merchandise_availability                   integer,
   navigation_layout                          integer          NOT NULL,
   navigation_layput                          integer,
   navigation_options                         integer          NOT NULL,
   navigation_options                         integer,
   navigation_organized                       integer          NOT NULL,
   navigation_organized                       integer,
   product_images_views                       integer          NOT NULL,
   product_image_view                         integer,
   site_performance_loading                   integer          NOT NULL,
   site_performance_loading                   integer,
   store_id                                   integer,
   store_id                                   integer,
   survey_type                                varchar(65535)   NOT NULL,
   survey_type                                varchar(256),
   nps_score                                  integer          NOT NULL,
   nps_score                                  integer,
   ovsat_score                                integer          NOT NULL,
   ovsat_score                                integer,
   product_expectations                       integer          NOT NULL,
   product_expectation                        integer,
   product_availability                       integer          NOT NULL,
   product_availabiility                      integer,
   website_look_feel                          integer          NOT NULL,
   website_look_and_feel                      integer,
   website_usability                          integer          NOT NULL,
   website_usability                          integer,
   website_customer_service                   integer          NOT NULL,
   website_customer_service                   integer,
   website_customer_service_friendly          integer          NOT NULL,
   website_customer_service_friendly          integer,
   website_customer_service_knowledgeable     integer          NOT NULL,
   website_customer_service_knowledgable      integer,
   website_customer_service_understand_needs  integer          NOT NULL,
   website_customer_service_understand_need   integer,
   website_customer_service_avail_to_assist   integer          NOT NULL,
   website_customer_service_avail_to_assist   integer,
   product_material_descriptions              integer          NOT NULL,
   product_material_description               integer,
   size_finding_tools                         integer          NOT NULL,
   size_finding_tool                          integer,
   product_ratings_reviews                    integer          NOT NULL,
   product_rating_review                      integer,
   selection_of_sizes                         integer          NOT NULL,
   selection_of_size                          integer,
   selection_of_colors                        integer          NOT NULL,
   selection_of_color                         integer,
   availability_of_seasonal_products          integer          NOT NULL,
   availability_of_seasonal_product           integer,
   selection_of_handbags                      integer          NOT NULL,
   selection_of_handbag                       integer,
   selection_of_backpacks                     integer          NOT NULL,
   selection_of_backpack                      integer,
   selection_of_luggage                       integer          NOT NULL,
   selection_of_luggage                       integer,
   selection_of_accessories                   integer          NOT NULL,
   selection_of_accessories                   integer,
   appeal_of_prod_presentation                integer          NOT NULL,
   appeal_of_product_presentation             integer,
   use_of_prod_pictures_imagery               integer          NOT NULL,
   use_of_product_picture_imagery             integer,
   number_of_clicks_to_get_where_you_want     integer          NOT NULL,
   number_of_clicks_to_get_where_you_want     integer,
   experienced_site_performance_issues        integer          NOT NULL,
   experienced_site_performance_issue         integer,
   store_atmosphere                           integer          NOT NULL,
   store_atmosphere                           integer,
   review_rating                              integer          NOT NULL,
   review_rating                              integer,
   review_bottomline                          integer          NOT NULL,
   review_bottomline                          integer,
   helpful                                    integer          NOT NULL,
   helpful                                    integer,
   not_helpful                                integer          NOT NULL,
   not_helpful                                integer,
   source_type                                varchar(65535)   NOT NULL,
   source_type                                varchar(256),
   brand_id                                   integer,
   brand_id                                   integer,
   prev_date                                  date,
   prev_date                                  date,
   etl_insert_time                            varchar(65535)   NOT NULL,
   etl_insert_time                            timestamp,
   etl_update_time                            varchar(65535)   NOT NULL,
   etl_update_time                            timestamp,
   job_id                                     varchar(65535)   NOT NULL,
   job_id                                     varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_googleanalytics
(
   "system"                 varchar(50),
   brand                  varchar(50),
   region                 varchar(50),
   device_category        varchar(50),
   date                   date,
   total_units            integer,
   total_sales            numeric(12,4),
   total_orders           integer,
   total_page_views       integer,
   total_visitors         integer,
   total_product_views    integer,
   total_cart_addition    integer,
   total_sales_eur        numeric(12,4),
   total_sales_usd        numeric(12,4),
   total_unique_visitors  integer,
   total_visits           integer,
   etl_insert_time        timestamp,
   etl_update_time        timestamp,
   job_id                 varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_twitter
(
   date              date,
   date              date,
   twitter_id        integer,
   twitter_id        varchar(20),
   twitter_name      varchar(65535),
   twitter_name      varchar(20),
   author            varchar(65535),
   author            varchar(20),
   followers_count   integer,
   followers_count   integer,
   following_count   integer,
   following_count   integer,
   listed_in         integer,
   listed_in         integer,
   tweets_count      integer,
   tweets_count      integer,
   favourites_count  integer,
   favourites_count  integer,
   brand             varchar(65535)   NOT NULL,
   brand             varchar(20),
   etl_insert_time   varchar(65535)   NOT NULL,
   etl_insert_time   timestamp,
   etl_update_time   varchar(65535)   NOT NULL,
   etl_update_time   timestamp,
   job_id            varchar(65535)   NOT NULL,
   job_id            varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_weather
(
   state              varchar(256),
   original_date      date,
   mintemp_def        numeric(12,4),
   file_date          date,
   maxtemp_degf       numeric(12,4),
   prcp_in            numeric(12,4),
   snow_in            numeric(12,4),
   wspd_mph           numeric(12,4),
   wdir_deg           integer,
   gust_mph           numeric(12,4),
   rh                 integer,
   skyc               integer,
   pres_mb            numeric(12,4),
   pop                integer,
   uvindex            integer,
   wxicon             integer,
   mintemp_ly_degf    numeric(12,4),
   maxtemp_ly_degf    numeric(12,4),
   mintemp_norm_degf  numeric(12,4),
   maxtemp_norm_degf  numeric(12,4),
   prev_date          date,
   etl_insert_time    timestamp,
   etl_update_time    timestamp,
   job_id             varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_youtube
(
   source            varchar(65535),
   source            varchar(20),
   region            varchar(65535),
   region            varchar(20),
   date              date,
   date              date,
   viewcount         integer          NOT NULL,
   view_count        integer,
   subscribercount   integer          NOT NULL,
   subscriber_count  integer,
   videocount        integer          NOT NULL,
   video_count       integer,
   commentcount      integer          NOT NULL,
   comment_count     integer,
   etl_insert_time   varchar(65535)   NOT NULL,
   etl_insert_time   timestamp,
   etl_update_time   varchar(65535)   NOT NULL,
   etl_update_time   timestamp,
   job_id            varchar(65535)   NOT NULL,
   job_id            varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_snapchat_items
(
   brand             varchar(20),
   time_stamp        date,
   screenshot_count  integer,
   type              varchar(20),
   view_count        integer,
   etl_insert_time   timestamp,
   etl_update_time   timestamp,
   job_id            varchar(100)
);

CREATE TABLE IF NOT EXISTS vfap_retail.vfap_snapchat_stories
(
   brand             varchar(20),
   story_id          integer,
   opens             integer,
   completion_rate   float8,
   total_time        integer,
   total_screenshot  integer,
   total_views       integer,
   time_stamp        date,
   etl_insert_time   timestamp,
   etl_update_time   timestamp,
   job_id            varchar(100)
);